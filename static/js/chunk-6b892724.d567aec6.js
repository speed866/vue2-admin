(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b892724"],{"131c":function(t,e,n){"use strict";n("1331")},1331:function(t,e,n){},1375:function(t,e,n){"use strict";n("9041")},9041:function(t,e,n){},9133:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{attrs:{border:"",data:t.skuList}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"80"}}),n("el-table-column",{attrs:{label:"名称",prop:"skuName"}}),n("el-table-column",{attrs:{label:"描述",prop:"skuDesc"}}),n("el-table-column",{attrs:{label:"默认图片",width:"110"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("img",{attrs:{src:e.skuDefaultImg,width:"100px"}})]}}])}),n("el-table-column",{attrs:{label:"重量",width:"100",prop:"weight"}}),n("el-table-column",{attrs:{label:"价格",width:"100",prop:"price"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[1===a.isSale?n("el-button",{attrs:{type:"success",icon:"el-icon-sort-down",size:"mini"},on:{click:function(e){return t.cancelSale(a)}}}):n("el-button",{attrs:{type:"success",icon:"el-icon-sort-up",size:"mini"},on:{click:function(e){return t.sale(a)}}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"}}),n("el-button",{attrs:{type:"info",icon:"el-icon-info",size:"mini"},on:{click:function(e){return t.getSkuInfo(a)}}}),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"}})]}}])})],1),n("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page,"page-sizes":[3,5,10],"page-size":t.limit,layout:"prev, pager, next, jumper, ->, sizes, total",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),n("el-drawer",{attrs:{visible:t.drawer},on:{"update:visible":function(e){t.drawer=e}}},[n("el-row",[n("el-col",{attrs:{span:5}},[t._v("名称")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuName))])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("描述")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.skuDesc))])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("价格")]),n("el-col",{attrs:{span:16}},[t._v(t._s(t.skuInfo.price)+"元")])],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("平台属性")]),n("el-col",{attrs:{span:16}},[t._l(t.skuInfo.skuAttrValueList,(function(e,a){return n("el-tag",{key:a,staticStyle:{"margin-right":"10px"},attrs:{type:"success"}},[t._v(t._s(e.attrId)+"-"+t._s(e.valueId))])}))],2)],1),n("el-row",[n("el-col",{attrs:{span:5}},[t._v("商品图片")]),n("el-col",{attrs:{span:16}},[n("el-carousel",{attrs:{height:"500px",trigger:"click"}},t._l(t.skuInfo.skuImageList,(function(t){return n("el-carousel-item",{key:t.id},[n("img",{attrs:{src:t.imgUrl,width:"100%"}})])})),1)],1)],1)],1)],1)},s=[],r=n("c7eb"),c=n("1da1"),i=(n("99af"),n("b775")),l=function(t,e){return i["a"].get("/admin/product/list/".concat(t,"/").concat(e))},o=function(t){return i["a"].get("/admin/product/onSale/".concat(t))},u=function(t){return i["a"].get("/admin/product/cancelSale/".concat(t))},p=function(t){return i["a"].get("/admin/product/getSkuById/".concat(t))},d={name:"SkuIndex",data:function(){return{page:1,limit:10,skuList:[],total:0,skuInfo:{},drawer:!1}},mounted:function(){this.getSkuList()},methods:{handleSizeChange:function(t){this.limit=t,this.getSkuList()},handleCurrentChange:function(t){this.page=t,this.getSkuList()},getSkuList:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n,a,s;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.page,a=t.limit,e.next=3,l(n,a);case 3:s=e.sent,200===s.code&&(t.skuList=s.data.records,t.total=s.data.total);case 5:case"end":return e.stop()}}),e)})))()},sale:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,o(t.id);case 2:a=n.sent,200===a.code&&(t.isSale=1,e.$message({type:"success",message:"上架成功"}));case 4:case"end":return n.stop()}}),n)})))()},cancelSale:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u(t.id);case 2:a=n.sent,200===a.code&&(t.isSale=0,e.$message({type:"success",message:"下架成功"}));case 4:case"end":return n.stop()}}),n)})))()},getSkuInfo:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.skuInfo={},e.drawer=!0,n.next=4,p(t.id);case 4:a=n.sent,200===a.code&&(e.skuInfo=a.data);case 6:case"end":return n.stop()}}),n)})))()}}},f=d,g=(n("131c"),n("1375"),n("2877")),m=Object(g["a"])(f,a,s,!1,null,"d3f49e9c",null);e["default"]=m.exports}}]);